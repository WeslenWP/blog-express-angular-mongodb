<div class="card">
  <div class="card-body">
    <h2 class="text-center">Editar categoria</h2>
    <form (submit)="onSubmit()" [formGroup]="form" class="mt-4 d-flex flex-column gap-3">

      <div class="form-floating">
        <input formControlName="nome" placeholder="Nome da categoria"
          [ngClass]="form.controls['nome'].touched && form.controls['nome'].invalid ?'is-invalid':'' " type="text"
          name="nome" id="nome" class="form-control" required>
        <label for="nome" class="form-label">Nome:</label>

        <div class="invalid-feedback">
          Insira um nome válido com no minimo 4 caracteres
        </div>
      </div>

      <div class="form-floating">
        <input formControlName="slug" placeholder="Slug da categoria"
          [ngClass]="form.controls['slug'].touched && form.controls['slug'].invalid ?'is-invalid':'' " type="text"
          name="slug" id="slug" class="form-control">
        <label for="slug" class="form-label">Slug:</label>

        <div class="invalid-feedback">
          Insira um slug válido com no minimo 4 caracteres
        </div>
      </div>
      <button type="submit" class="btn btn-lg btn-primary mt-1"
        [disabled]="isChanging || form.invalid || form.pristine">

        <ng-container *ngIf="!isChanging else loading">
          Salvar
        </ng-container>
        <ng-template #loading>
          <div class="spinner-border spinner-border-sm" role="status">
            <span class="visually-hidden">Carregando...</span>
          </div>
        </ng-template>

      </button>
    </form>
  </div>
</div>